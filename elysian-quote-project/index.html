<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Elysian Designs | Instant Interior Quote</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root { --black:#0b0b0b; --gold:#b08b4f; --ivory:#f9f7f1; --muted:#666; }
body { margin:0; font-family:"Poppins",sans-serif; background:var(--ivory); color:var(--black);}
.container { max-width:1100px; margin:40px auto; padding:0 20px; }
.card { background:#fff; border-radius:12px; border:1px solid #eee; padding:20px; box-shadow:0 6px 20px rgba(0,0,0,0.05); }
h1,h2 { font-weight:700; margin:0; }
label { font-weight:600; margin-top:10px; display:block; }
input,select,textarea { width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; background:#fdfdfb; font-size:14px; }
.btn { padding:12px 16px; border-radius:10px; border:none; font-weight:700; cursor:pointer; transition:.2s; }
.btn-primary { background:var(--black); color:var(--gold); }
.btn-outline { border:1px solid #ccc; background:transparent; color:#333; }
.btn:hover { opacity:0.85; }
.grid { display:grid; grid-template-columns:1fr 380px; gap:20px; margin-top:20px; }
.small { font-size:13px; color:var(--muted); }
.summary { padding:12px; border:1px solid #eee; border-radius:10px; background:#fff; }
.room-row { display:flex; align-items:center; gap:8px; margin-top:5px; }
.qty { width:70px; }
@media(max-width:900px){.grid{grid-template-columns:1fr;}}
</style>
</head>

<body>
<section style="background:#000;color:#fff;text-align:center;padding:80px 20px;">
  <img src="images/logo.jpg" alt="Elysian Designs" style="height:80px;margin-bottom:15px;">
  <h1 style="color:#d4af37;">Modern Luxe Interiors, Instantly Priced</h1>
  <p style="color:#ccc;">Crafted in Odisha · Designed for India</p>
  <a href="#quoteForm" style="border:2px solid var(--gold);color:var(--gold);padding:10px 26px;border-radius:30px;text-decoration:none;">Start My Quote</a>
</section>

<div class="container">
  <div class="card" style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;">
    <div><h2>Elysian Designs | Interior Quote</h2><div class="small">GST: 21HSMPM4377M1Z2</div></div>
    <div style="text-align:right;"><strong>+91-9938686600</strong><br><span class="small">Sector-7, CDA, Cuttack</span></div>
  </div>

  <div class="grid">
    <!-- LEFT -->
    <div class="card" id="quoteForm">
      <label>Name</label><input id="name" required>
      <div style="display:flex;gap:10px;"><div style="flex:1;"><label>Email</label><input id="email" type="email" required></div><div style="width:150px;"><label>Phone</label><input id="phone" type="tel" required></div></div>
      <label>Project Type</label>
      <select id="category" onchange="toggleType();updateSummary();"><option value="residential">Residential Interior</option><option value="commercial">Commercial Interior</option></select>
      <label>Package</label>
      <select id="pkg" onchange="updateSummary();"><option value="basic">Basic</option><option value="premium">Premium</option><option value="luxury">Luxury</option></select>

      <div id="residentialBlock" style="margin-top:10px;">
        <strong>Rooms</strong>
        <div id="roomList" style="margin-top:8px;"></div>
        <div class="small">Base ₹3L + ₹50K per room (even if fewer)</div>
      </div>

      <div id="commercialBlock" style="display:none;margin-top:10px;">
        <label>Commercial Type</label>
        <select id="comType"><option>Office</option><option>Cafe</option><option>Hotel</option><option>Retail</option></select>
        <label>Area (sq.ft)</label>
        <input id="area" type="number" min="1" oninput="updateSummary();">
        <div class="small">Basic ₹900 · Premium ₹1800 · Luxury ₹3200 /sq.ft</div>
      </div>

      <label>Additional Notes</label><textarea id="notes" rows="3"></textarea>

      <div style="margin-top:15px;display:flex;gap:10px;flex-wrap:wrap;">
        <button class="btn btn-primary" onclick="generateQuote()">Generate & Save</button>
        <button class="btn btn-outline" onclick="downloadPDF()">Download PDF</button>
      </div>
      <div id="message" class="small" style="margin-top:8px;"></div>
    </div>

    <!-- RIGHT -->
    <div class="card summary">
      <div id="summaryText" style="font-weight:700;font-size:20px;">Estimated Total: ₹0</div>
      <div id="breakdown" class="small" style="margin-top:8px;">Select your options to view quote.</div>
      <div style="margin-top:10px;font-size:13px;">
        <strong>Residential:</strong><br>Basic ₹3L + ₹50K/room<br>Premium ₹5L + ₹75K/room<br>Luxury ₹8L + ₹1.25L/room
      </div>
      <div style="margin-top:10px;font-size:13px;">
        <strong>Commercial:</strong><br>Basic ₹900 · Premium ₹1800 · Luxury ₹3200 /sq.ft
      </div>
      <div class="small" style="margin-top:10px;">Prices include 18% GST.</div>
    </div>
  </div>

  <div style="text-align:center;font-size:13px;color:#666;margin-top:20px;">
    © Elysian Designs · Sector-7, CDA, Cuttack · 
    <a href="https://wa.me/919938686600">WhatsApp</a> · 
    <a href="https://www.elysiandesignsodisha.in">Website</a> · 
    <a href="https://www.instagram.com/elysiandesignsodisha/?hl=en">Instagram</a>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
<script>
const SCRIPT_URL="https://script.google.com/macros/s/AKfycbzaDWpVB5FXiW4TwPy6iIH_kAMAxKLWsRVUwlvoM9Ht7T5emEOo1z4LEoCzf_63jaXq/exec";
const GST=0.18;
const rooms=["Bedroom","Living Room","Dining","Kitchen","Toilet","Balcony","Study"];
const residentialPricing={basic:{base:300000,add:50000},premium:{base:500000,add:75000},luxury:{base:800000,add:125000}};
const commercialRates={basic:900,premium:1800,luxury:3200};

function loadRooms(){
  const div=document.getElementById('roomList');div.innerHTML='';
  rooms.forEach((r,i)=>{
    div.innerHTML+=`<div class='room-row'>
      <input type='checkbox' id='room_${i}' onchange='updateSummary()'>
      <label>${r}</label>
      <input class='qty' id='qty_${i}' type='number' min='1' value='1' oninput='updateSummary()'>
    </div>`;
  });
}
function toggleType(){
  const val=category.value;
  document.getElementById('residentialBlock').style.display=(val==='residential')?'block':'none';
  document.getElementById('commercialBlock').style.display=(val==='commercial')?'block':'none';
}
function calcResidential(pkg){
  let count=0;rooms.forEach((_,i)=>{if(document.getElementById('room_'+i).checked)count+=Number(document.getElementById('qty_'+i).value)||0;});
  const base=residentialPricing[pkg].base;const add=Math.max(0,count-1)*residentialPricing[pkg].add;
  const subtotal=base+add;const gst=Math.round(subtotal*GST);return{subtotal,gst,total:subtotal+gst,count};
}
function calcCommercial(pkg){
  const area=Number(document.getElementById('area').value)||0;const rate=commercialRates[pkg];
  const subtotal=area*rate;const gst=Math.round(subtotal*GST);return{subtotal,gst,total:subtotal+gst,area};
}
function updateSummary(){
  const cat=category.value,pkg=pkg.value;let d;
  if(cat==='residential'){d=calcResidential(pkg);summaryText.innerText=`Estimated Total: ₹${d.total.toLocaleString()}`;breakdown.innerText=`Rooms: ${d.count} · Subtotal ₹${d.subtotal.toLocaleString()} · GST ₹${d.gst.toLocaleString()}`;}
  else{d=calcCommercial(pkg);summaryText.innerText=`Estimated Total: ₹${d.total.toLocaleString()}`;breakdown.innerText=`${d.area} sq.ft · Subtotal ₹${d.subtotal.toLocaleString()} · GST ₹${d.gst.toLocaleString()}`;}
}
async function generateQuote(){
  const n=name.value.trim(),e=email.value.trim(),p=phone.value.trim();if(!n||!e||!p){alert("Please fill all fields.");return;}
  const cat=category.value,pk=pkg.value,d=cat==='residential'?calcResidential(pk):calcCommercial(pk);
  const payload={name:n,email:e,phone:p,category:cat,package:pk,total:d.total,notes:notes.value,date:new Date().toISOString()};

  // No-CORS submit (hidden iframe)
  const form=document.createElement('form');
  form.action=SCRIPT_URL;form.method='POST';form.target='hidden_iframe';
  const input=document.createElement('input');input.name='data';input.value=JSON.stringify(payload);
  form.appendChild(input);document.body.appendChild(form);
  const iframe=document.createElement('iframe');iframe.name='hidden_iframe';iframe.style.display='none';document.body.appendChild(iframe);
  form.submit();document.getElementById('message').innerHTML="<span style='color:green'>✅ Quote saved. Our team will contact you soon.</span>";
  updateSummary();
}
function downloadPDF(){
  const n=name.value.trim();if(!n){alert('Please enter client name first.');return;}
  const cat=category.value,pk=pkg.value,d=cat==='residential'?calcResidential(pk):calcCommercial(pk);
  const pdf=document.createElement('div');
  pdf.innerHTML=`<h2>Elysian Designs Quotation</h2>
  <p><strong>Client:</strong> ${n}<br><strong>Email:</strong> ${email.value}<br><strong>Phone:</strong> ${phone.value}</p>
  <p><strong>Category:</strong> ${cat}<br><strong>Package:</strong> ${pk}</p>
  <h3>Total: ₹${d.total.toLocaleString()} (incl. GST)</h3>
  <p>GST: 21HSMPM4377M1Z2 · Sector-7, CDA, Cuttack</p>`;
  html2pdf().set({margin:10,filename:`ElysianDesigns_${n.replace(/\s+/g,'_')}_Quote.pdf`,jsPDF:{unit:'mm',format:'a4',orientation:'portrait'}}).from(pdf).save();
}
loadRooms();updateSummary();
</script>
</body>
</html>
